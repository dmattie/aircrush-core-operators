BootStrap: docker
From: ubuntu:20.04
#From: ubuntu:18.04

%files

%environment

    export PATH=/usr/local:/usr/local/scripts:$PATH


%post
    apt-get update && apt-get install -y netcat
    NOW=`date`
    echo "export NOW=\"${NOW}\"" >> $SINGULARITY_ENVIRONMENT
    apt-get install -y wget
    apt-get install -y unzip
    apt-get install -y rsync
    apt-get install -y tar
    apt-get install -y dialog
    apt-get install -y parallel
    apt-get install -y time
    
    DEBIAN_FRONTEND=noninteractive apt-get install -y appmenu-gtk2-module

    apt-get install -y software-properties-common
    add-apt-repository universe


    apt install -y python2
    apt-get install -y python3
    apt-get install -y python3-pip
    pip3 install --upgrade pip

    pip3 install pandas    
    pip3 install nibabel
    pip3 install matplotlib
    pip3 install scipy
    pip3 install IPython
    pip3 install mglearn
    pip3 install gevent
    pip3 install sklearn
    pip3 install seaborn
    pip3 install dask
    pip3 install psycopg2-binary    
    pip3 install sqlalchemy
    



    chmod -R a+rx /usr/local/software/*
    chmod -R a+rx /usr/local/scripts
    rm /usr/local/software/freesurfer_7.2.0_amd64.deb
%runscript    
    echo "Arguments received: first: $1    all:$*"
    /bin/bash $*


%labels
    Author dmattie
